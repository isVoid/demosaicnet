# Deep Joint Demosaicking and Denoising

This is a separate repo from original: https://github.com/mgharbi/demosaicnet

All original codes credit goes to authors:

Michaël Gharbi <gharbi@mit.edu>
Gaurav Chaurasia
Sylvain Paris
Frédo Durand

### What's new in this repo:

- A dockerfile help fast deploy the codes.
- A set of toolchain that help batch demosaic a series of raw files, this function is specifically useful to timelapse photographers.
  - data/utils/convert_into_mosaic.py: this calls dcraw or libraw library to batch convert a set of raw images within a folder. Make sure dcraw/dcraw_emu is accessible from bash environment.
  - data/utils/to_mono.py: dcraw_emu outputs mosaic image in RGB layer. this script packs the three channels into single channel.
  - data/utils/extract_patches.py: this extracts patches from image list. Useful when finetuning is needed.
  - data/utils/pair_organizer.py: organizing tool for sequences generated by repo:LSTL
  - Modified original model, such that it supports training with clean/noisy pairs acquired from camera.

### Generate net to train with clean/noisy pairs:
```shell
# Convert your patches into LMDB first.
python bin/create_net --train_db /path/to/noisy_set.mdb --gt_db /path/to/clean_set.mdb
```

### Other usage of demosaic net.
Please refer to original repo.
